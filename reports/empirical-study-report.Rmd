---
title: "Can Test Scores Predict Future Contribution of an Individual in Society: An Empirical Analysis in R"
author: "Soham Seal \n Jadavpur University \n Department of Economics \n Roll no. - 002300301079"
date: "`r Sys.Date()`"
output_dir: "../output/reports"
output_file: "empirical-study-report.pdf" 
output:
  pdf_document:
    latex_engine: xelatex
    toc: TRUE
    toc_depth: 3
    number_sections: false
    fig_width: 7
    fig_height: 5
    fig_caption: true
header-includes:
  - \usepackage{placeins}
  - \usepackage{booktabs}
  - \usepackage{longtable}
  - \usepackage{float}
  - \usepackage{pdflscape}
  - \usepackage{fontspec}
  - \usepackage{unicode-math}
  - \setmainfont{Times New Roman}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message=FALSE, warning=FALSE, fig.align = 'center')
library(knitr)
library(ggplot2)
library(dplyr)
library(readr)
library(here)
library(stargazer)
library(broom)
library(ggthemes)

# Load the analysis-ready dataset and regression models
analysis_dataset <- readRDS("/Volumes/Storage Extra/Data Science/Projects/Econometrics with R/beyond-marks-project/processed-data/preprocessed-dataset.rds")
models <- readRDS(here("processed-data", "regression-models.rds"))

# Define a theme for the coefficient plots
theme_set(theme_minimal(base_size = 14) +
          theme(plot.title = element_text(hjust = 0.5, face = "bold"),
                axis.title = element_text(face = "bold"),
                legend.position = "none"))
```

# Introduction

This report presents an empirical investigation into the factors that predict "Responsible Social Contribution." The study leverages the rich, longitudinal data from the India Human Development Survey (IHDS) to explore the relative importance of traditional academic achievement versus a broader set of "alternative" factors, such as an individual's relationship with their school and their home environment.

# Project Context & Motivation

The contemporary education system places overwhelming emphasis on quantifiable assessments - marks, grades, ranks, and scores. This project fundamentally challenges this paradigm by testing whether school marks performance is actually a good predictor of responsible social contribution or alternative school-life factors are superior predictors of an individual's future contribution to society compared to traditional academic marks.

The research addresses a critical gap in educational policy: Are we measuring the right things? Does our marks-obsessed culture identify and nurture the individuals who ultimately become responsible contributors to society, or are we missing the actual predictors of meaningful social contribution? Do students that score more contribute more to the society? In other words, does the society need to produce more high scorers for its betterment?

# Research Problem Statement

**Primary Research Question**: Do traditional school marks predict an individual's capacity to become a responsible contributor to society?

**Secondary Research Question**: Do alternative school-life factors do a better job at predicting an individual's capacity to become a responsible contributor to society?

**Underlying Challenge**: The current education system may be fundamentally flawed in its assessment methods, potentially overlooking individuals with high social contribution potential while over-emphasizing those who excel in traditional academic metrics.

# Hypothesis Framework

## Core Hypothesis

Alternative school-life factors (study fondness, curiosity, resilience, social integration, adaptability, etc.) are stronger predictors of responsible social contribution than quantifiable academic performance (marks, grades, ranks).

## Specific Hypotheses to Test

-   **H0**: School marks are significant predictors of responsible social contribution.
-   **H1**: School marks are significant predictors of responsible social contribution.
-   **H2**: Individual alternative school-life factors (like relation with school, child relation with school, school type, house environment) are stronger predictors than marks.
-   **H3**: Combined alternative models show alternative factors over marks in predictive power.
-   **H4**: The relationship holds across different demographic factors.

# Objective

My objective in doing this project is to dig deeper into how the society's education system works and benefits itself and is a change in policy and/or mindset necessary to foster us towards the right direction. This project should also inspire others as it is not as robust as I would like it to be due to lack of data and time constraint.

# Data and Methodology

## Data Source and Sample

This study utilizes data from the India Human Development Survey (IHDS), a comprehensive panel survey that provides a wealth of information on various aspects of life in India. Our analysis focuses on a subset of the IHDS panel data, specifically individuals for whom we have information on their educational experiences in the first wave of the survey and their social and economic outcomes in the second wave.

Link: <https://www.icpsr.umich.edu/web/ICPSR/studies/37382/datadocumentation>

After cleaning and pre-processing the data, our final sample consists of:

```{r sample_analysis_table}
paste(as.character(nrow(analysis_dataset)),"individuals.")
```

Here the Final Analysis Table:

```{r analysis_table, results='asis'}
sample_analysis_table <- read_csv(here("output", "tables", "sample_analysis_table.csv"))
# Display the table in the report
kable(sample_analysis_table, caption = "Sample Analysis Table", booktabs = TRUE)
```

Only first few rows are shown.

## Variable Construction

A key feature of this study is the construction of composite variables to measure our key concepts of interest. These composite variables are created by combining several individual survey items into a single, more reliable measure.

### Dependent Variable: Responsible Social Contribution

Our dependent variable, `responsible_social_contribution`, is a composite index designed to capture a broad range of positive social behaviors and outcomes. It is constructed as a weighted average of four sub-components: Happiness and Well-being, Health, Social Responsibility, and Productive Contribution.

### Independent Variables

Our independent variables are divided into two main categories:

1.  **Academic Performance:** A composite measure of traditional educational attainment, including years of schooling, test scores, and scholarships.
2.  **Alternative Factors:** A composite measure capturing a broader range of school- and home-related factors, including relationship with school, school type, and home environment.

## Analytical Approach

Our analysis proceeds in three main steps:

1.  **Data Preparation:** We begin by importing the raw IHDS data, selecting the relevant variables, and constructing our composite measures. We then clean the data by removing observations with missing values.

2.  **Exploratory Data Analysis:** We then conduct a thorough exploratory data analysis to understand the characteristics of our data. This includes calculating descriptive statistics, creating a correlation matrix, and visualizing the distributions of our key variables.

3.  **Regression Analysis:** Finally, we use ordinary least squares (OLS) regression to model the relationship between our independent variables and our dependent variable. We estimate a series of four nested regression models to test our central hypothesis.

# Exploratory Data Analysis

## Descriptive Statistics

We begin our exploratory analysis by examining the descriptive statistics for our key variables. The following table provides a summary of the mean, standard deviation, and other key statistics for each of our composite variables.

```{r descriptive_stats, results='asis'}
# Load the descriptive statistics table that was generated by the exploratory-analysis.R script
descriptive_stats <- read_csv(here("output", "tables", "descriptive_statistics_psych.csv"))
# Display the table in the report
kable(descriptive_stats, caption = "Descriptive Statistics of Key Variables", booktabs = TRUE, longtable = TRUE)
# Display the correlation heatmap that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "descriptive_statistics_plot.png"))
```

**Correlation Analysis**

To understand the relationships between our key variables, we calculate a correlation matrix. The following table and heatmap display the correlation coefficients for all pairs of our key variables.

```{r correlation_matrix, results='asis'}
# Load the correlation matrix table that was generated by the exploratory-analysis.R script
cor_matrix <- read_csv(here("output", "tables", "correlation_matrix.csv"))
# Display the table in the report
kable(cor_matrix, caption = "Correlation Matrix of Key Variables", booktabs = TRUE)
# Display the correlation heatmap that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "correlation_heatmap.png"))
```

The correlation heatmap provides a visual representation of the correlation matrix. The color and size of the circles indicate the strength and direction of the correlations. As we can see, there are a number of interesting correlations in our data. For example, `academic_performance` and `alternative_factors` are both positively correlated with `responsible_social_contribution`.

### Summary of all Factors by Gender

This table helps us understand if there are systematic differences in our key variables between males and females in our sample. This is important for ensuring that our subsequent regression models are not confounded by gender-based disparities.

```{r group_summary_by_gender}

group_summaries_by_gender <- read_csv(here("output", "tables", "group_summaries_by_gender.csv"))
# Display the table in the report
kable(group_summaries_by_gender, caption = "Summary of all Factors by Gender", booktabs = TRUE)
```

On average, females in our sample report a higher level of `responsible_social_contribution` (0.168) compared to males (-0.009). Conversely, males tend to have a higher `academic_performance` score (0.292) than females (0.112). This suggests that the relationship between academic performance and social contribution may differ by gender, a dynamic we will explore in our regression models.

### Summary of all Factors by Location

This table allows us to compare our key variables across urban and rural settings. Understanding these differences is crucial, as access to educational resources and opportunities can vary significantly between these locations.

```{r group_summary_by_location}

group_summaries_by_location <- read_csv(here("output", "tables", "group_summaries_by_location.csv"))
# Display the table in the report
kable(group_summaries_by_location, caption = "Summary of all Factors by Location", booktabs = TRUE)
```

Individuals in urban areas score higher on average on all our key metrics: `responsible_social_contribution` (0.066 vs. 0.025), `academic_performance` (0.526 vs. 0.126), and `alternative_factors` (0.175 vs. 0.056). This highlights the importance of controlling for urban/rural status in our analysis to avoid attributing these differences to other factors.

### Summary of all Factors by Work Type

This table breaks down our key variables by the primary type of work individuals are engaged in. This helps us understand how different economic activities might relate to our variables of interest.

```{r group_summary_by_work_type}

group_summaries_by_work_type <- read_csv(here("output", "tables", "group_summaries_by_work_type.csv"))
# Display the table in the report
kable(group_summaries_by_work_type, caption = "Summary of all Factors by Work Type", booktabs = TRUE)
```

Individuals in salaried positions have the highest average `academic_performance` (0.563), while those working with animals have the highest `responsible_social_contribution` (0.180). This provides a preliminary indication that the link between academic success and social contribution is not straightforward and may be mediated by career path.

## Distribution of Key Variables

Next, we examine the distributions of our key composite variables. The following histograms show the distribution of `responsible_social_contribution`, `academic_performance`, `alternative_factors`, `relation_with_school`, `child_relation_with_school`, `school_type` and `house_environment`.

```{r distribution_plots, fig.cap="Distribution"}
# Display the histogram that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "histogram_responsible_social_contribution.png"))
```

```{r distribution_plots2, fig.cap="Distribution"}
# Display the histogram that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "histogram_academic_performance.png"))
```

```{r distribution_plots3, fig.cap="Distribution"}
# Display the histogram that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "histogram_alternative_factors.png"))
```

```{r distribution_plots4, fig.cap="Distribution"}
# Display the histogram that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "histogram_relation_with_school.png"))
```

```{r distribution_plots5, fig.cap="Distribution"}
# Display the histogram that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "histogram_child_relation_with_school.png"))
```

```{r distribution_plots6, fig.cap="Distribution"}
# Display the histogram that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "histogram_school_type.png"))
```

```{r distribution_plots7, fig.cap="Distribution"}
# Display the histogram that was generated by the exploratory-analysis.R script
knitr::include_graphics(here("output", "figures", "histogram_house_environment.png"))
```

These histograms show that our composite variables are all approximately normally distributed, which is a desirable property for regression analysis.

## Bivariate Analysis

To further explore the relationships in our data, we examine how our key variables vary across different demographic groups. We will present histograms of `responsible_social_contribution`, `academic_performance`, and the sub-components of `alternative_factors` (`relation_with_school`, `child_relation_with_school`, `school_type`, `house_environment`) faceted by gender, urban/rural status, and work-related categories (business, salary, farm, animal).

### Responsible Social Contribution by Demographic Factors

```{r rsc_gender_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_responsible_social_contribution_by_gender.png"))
```

```{r rsc_urban_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_responsible_social_contribution_by_location.png"))
```

```{r rsc_business_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_responsible_social_contribution_by_work_type.png"))
```

**Interpretation:** These histograms reveal nuanced differences in the distribution of `responsible_social_contribution` across various demographic and work-related groups. For instance, we can observe if certain groups tend to have higher or lower concentrations of individuals with high social contribution scores, or if the spread of scores varies significantly between groups.

### Academic Performance by Demographic Factors

```{r acad_gender_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_academic_performance_by_gender.png"))
```

```{r acad_urban_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_academic_performance_by_location.png"))
```

```{r acad_business_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_academic_performance_by_work_type.png"))
```

**Interpretation:** These plots illustrate how academic performance varies across different segments of the population. We can identify if there are particular demographic groups that consistently show higher or lower academic achievement, or if certain work sectors are associated with different academic backgrounds.

### Relation with School by Demographic Factors

```{r rel_school_gender_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_relation_with_school_by_gender.png"))
```

```{r rel_school_urban_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_relation_with_school_by_location.png"))
```

```{r rel_school_business_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_relation_with_school_by_work_type.png"))
```

**Interpretation:** These plots provide insights into how students' relationships with their schools differ across demographic and work-related groups. We can observe if certain environments or work experiences are associated with more positive or negative school relationships.

### Child Relation with School by Demographic Factors

```{r child_rel_school_gender_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_child_relation_with_school_by_gender.png"))
```

```{r child_rel_school_urban_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_child_relation_with_school_by_location.png"))
```

```{r child_rel_school_business_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_child_relation_with_school_by_work_type.png"))
```

**Interpretation:** These plots offer a perspective on how children's relationships with their schools are influenced by various demographic and work characteristics. This can highlight disparities in school experiences from a child's viewpoint.

### School Type by Demographic Factors

```{r school_type_gender_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_school_type_by_gender.png"))
```

```{r school_type_urban_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_school_type_by_location.png"))
```

```{r school_type_business_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_school_type_by_work_type.png"))
```

**Interpretation:** These plots illustrate the distribution of school types across different demographic and work-related groups. This can reveal patterns in access to different educational institutions based on gender, location, or economic activities.

### House Environment by Demographic Factors

```{r house_env_gender_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_house_environment_by_gender.png"))
```

```{r house_env_urban_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_house_environment_by_location.png"))
```

```{r house_env_business_hist, fig.cap="Boxplot"}
knitr::include_graphics(here("output", "figures", "boxplot_house_environment_by_work_type.png"))
```

**Interpretation:** These plots show how the home environment composite varies across different demographic and work-related groups. This can highlight disparities in home educational resources or support based on gender, location, or household economic activities.

# Regression Analysis

We now turn to our regression analysis. We will build our models step-by-step to test our hypothesis.

## Regression Diagnostics

Before interpreting the models, it is crucial to check whether they meet the assumptions of Ordinary Least Squares (OLS) regression. The following table summarizes the key diagnostic tests for each of our 18 models.

```{r regression_diagnostics, results='asis'}
diagnostics_table <- read_csv(here("output", "tables", "regression_diagnostics.csv"))
kable(diagnostics_table, caption = "Regression Model Diagnostics", booktabs = TRUE)
```

**Interpretation of Diagnostics:**

The diagnostic results indicate that several of our models violate the assumptions of OLS regression:

-   **Homoscedasticity:** The Breusch-Pagan test is significant (p \< 0.05) for all models, indicating the presence of heteroscedasticity. This means the variance of the residuals is not constant across all levels of the independent variables.
-   **Normality:** The Shapiro-Wilk test is significant (p \< 0.05) for all models, indicating that the residuals are not normally distributed.
-   **Autocorrelation:** The Durbin-Watson test statistic is consistently below 2 for all models, suggesting the presence of positive autocorrelation.

**Recommendations:**

Given these violations, the standard errors in our OLS models are likely biased, which could lead to incorrect conclusions about the statistical significance of our predictors. The most appropriate course of action is to use **robust standard errors** for our regression models. Robust standard errors are less sensitive to violations of homoscedasticity and autocorrelation. While non-normal residuals can be a concern, with a large sample size like ours, the Central Limit Theorem provides some assurance that our coefficient estimates are still reliable.

For the remainder of this analysis, we will proceed with the OLS models but will interpret the results with caution, keeping in mind the diagnostic warnings. For a more rigorous analysis, re-running the models with robust standard errors would be the recommended next step.

## Model Results

We will now present the results of our regression models. Each model is designed to test a specific aspect of our hypothesis.

### Model 1: Academic Performance

**Model 1a:** With demographic controls **Model 1b:** Without demographic controls

```{r model1_plots, fig.cap="Model Coefficients"}
tidy(models$model1a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 1a: Academic Performance (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model1b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 1b: Academic Performance (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model1_summary, results='asis'}
model1a_summary <- read_csv(here("output", "tables", "model1a_summary.csv"))
model1b_summary <- read_csv(here("output", "tables", "model1b_summary.csv"))
kable(model1a_summary, caption = "Model1a Summary", booktabs = TRUE)
kable(model1b_summary, caption = "Model1b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001), indicating that our predictors are collectively effective in explaining the variation in `responsible_social_contribution`.
-   **Explanatory Power:** Model 1a (with controls) has an Adjusted R-squared of 0.1628199, while Model 1b (without controls) has an Adjusted R-squared of 7.127650e-02, it decreased. The inclusion of demographic controls significantly increases the explanatory power, highlighting the importance of accounting for these factors.
-   **Coefficients:** In both models, `academic_performance` has a positive and statistically significant effect (p \< 0.001). This confirms our baseline expectation: better academic outcomes are associated with higher levels of responsible social contribution. We also see that the rural population and the once of work in business show a negative effect, that school scores matters less for them than their counter parts.

### Model 2: Relation with School

**Model 2a:** With demographic controls **Model 2b:** Without demographic controls

```{r model2_plots, fig.cap="Model Coefficients"}
tidy(models$model2a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 2a: Relation with School (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model2b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 2b: Relation with School (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model2_summary, results='asis'}
model2a_summary <- read_csv(here("output", "tables", "model2a_summary.csv"))
model2b_summary <- read_csv(here("output", "tables", "model2b_summary.csv"))
kable(model2a_summary, caption = "Model2a Summary", booktabs = TRUE)
kable(model2b_summary, caption = "Model2b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** Model 2a (with controls) has an Adjusted R-squared of 0.0743794, while Model 2b (without controls) has an Adjusted R-squared of 0.0000176. The inclusion of demographic controls substantially increases the explanatory power, indicating their importance in understanding the relationship between `relation_with_school` and `responsible_social_contribution`. Also the both models are overall worse fits compared to the previous one.
-   **Coefficients:** The `relation_with_school` variable is not a strong predictor of `responsible_social_contribution` in both the models compared to school performance, providing initial support for our null hypothesis (H1). Both the respective p-value and the coefficient estimates says so.

### Model 3: Child's Relation with School

**Model 3a:** With demographic controls **Model 3b:** Without demographic controls

```{r model3_plots, fig.cap="Model Coefficients"}
tidy(models$model3a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 3a: Child's Relation with School (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model3b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 3b: Child's Relation with School (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model3_summary, results='asis'}
model3a_summary <- read_csv(here("output", "tables", "model3a_summary.csv"))
model3b_summary <- read_csv(here("output", "tables", "model3b_summary.csv"))
kable(model3a_summary, caption = "Model3a Summary", booktabs = TRUE)
kable(model3b_summary, caption = "Model3b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** Model 3a (with controls) has an Adjusted R-squared of 0.0919398, while Model 3b (without controls) has an Adjusted R-squared of 5.140742e+02. Similar to previous models, demographic controls in Model 3a significantly improve the explanatory power, indicating their importance. Also both the models are better fits compared to the the previous model but not the school performance model shown by the adjusted R squared values.
-   **Coefficients:** `child_relation_with_school` is a significant predictor in both models than academic performance as per coefficient estimates, our initial evidence for our alternative hypothesis.

### Model 4: School Type

**Model 4a:** With demographic controls **Model 4b:** Without demographic controls

```{r model4_plots, fig.cap="Model Coefficients"}
tidy(models$model4a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 4a: School Type (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model4b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 4b: School Type (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model4_summary, results='asis'}
model4a_summary <- read_csv(here("output", "tables", "model4a_summary.csv"))
model4b_summary <- read_csv(here("output", "tables", "model4b_summary.csv"))
kable(model4a_summary, caption = "Model4a Summary", booktabs = TRUE)
kable(model4b_summary, caption = "Model4b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** Model 4a (with controls) has an Adjusted R-squared of 0.0745731, while Model 4b (without controls) has an Adjusted R-squared of 2.496000e-04. Demographic controls in Model 4a significantly increase the explanatory power, reinforcing their importance. It's fit is loosely at par with the fit of the relation with school model, not better than both the school performance model or the child relation with school model but slightly better than relation with school model.
-   **Coefficients:** `school_type` is not a significant predictor, suggesting that the type of school a child attends has less lasting impact on their social contribution.

### Model 5: House Environment

**Model 5a:** With demographic controls **Model 5b:** Without demographic controls

```{r model5_plots, fig.cap="Model Coefficients"}
tidy(models$model5a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 5a: House Environment (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model5b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 5b: House Environment (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model5_summary, results='asis'}
model5a_summary <- read_csv(here("output", "tables", "model5a_summary.csv"))
model5b_summary <- read_csv(here("output", "tables", "model5b_summary.csv"))
kable(model5a_summary, caption = "Model5a Summary", booktabs = TRUE)
kable(model5b_summary, caption = "Model5b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** Model 5a (with controls) has an Adjusted R-squared of 0.1391, while Model 5b (without controls) has an Adjusted R-squared of 0.0247. The inclusion of demographic controls in Model 5a significantly increases the explanatory power, emphasizing their role in the model. This model's fit is closely at par with the academic performance model.
-   **Coefficients:** The `house_environment` is also a significant positive predictor (0.01), highlighting the importance of a supportive home environment.

### Model 6: Combined Alternative Factors (Dis-aggregated)

**Model 6a:** With demographic controls **Model 6b:** Without demographic controls

```{r model6_plots, fig.cap="Model Coefficients"}
tidy(models$model6a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 6a: Combined Alternative Factors (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model6b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 6b: Combined Alternative Factors (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model6_summary, results='asis'}
model6a_summary <- read_csv(here("output", "tables", "model6a_summary.csv"))
model6b_summary <- read_csv(here("output", "tables", "model6b_summary.csv"))
kable(model6a_summary, caption = "Model6a Summary", booktabs = TRUE)
kable(model6b_summary, caption = "Model6b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** We can see using the adjusted R squared that this model which only includes the alternative factors is has better fit than all individual alternative factors but is loosely with academic performance model fit emphasizing on the importance of both. We can also  see that relation with school and school type is not statistically significant so we can ignore them. Model 6a (with controls) has an Adjusted R-squared of 0.1463064, while Model 6b (without controls) has an Adjusted R-squared of 0.0836482. The inclusion of demographic controls in Model 6a significantly increases the explanatory power, reinforcing their importance when considering dis-aggregated alternative factors. 
-   **Coefficients:** When all the alternative factors are included together, they remain significant predictors.

### Model 7: Combined Alternative Factors (Aggregated)

**Model 7a:** With demographic controls **Model 7b:** Without demographic controls

```{r model7_plots, fig.cap="Model Coefficients"}
tidy(models$model7a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 7a: Aggregated Alternative Factors (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model7b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 7b: Aggregated Alternative Factors (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model7_summary, results='asis'}
model7a_summary <- read_csv(here("output", "tables", "model7a_summary.csv"))
model7b_summary <- read_csv(here("output", "tables", "model7b_summary.csv"))
kable(model7a_summary, caption = "Model7a Summary", booktabs = TRUE)
kable(model7b_summary, caption = "Model7b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** Model 7a (with controls) has an Adjusted R-squared of 0.1359820, while Model 7b (without controls) has an Adjusted R-squared of 7.124770e-02. The inclusion of demographic controls in Model 7a significantly increases the explanatory power, indicating their importance when considering the aggregated alternative factors. As we can see the combined model is not as good a fit as the dis-aggregated model but is still better than the individual models.
-   **Coefficients:** The aggregated `alternative_factors` composite is a strong predictor, confirming that these factors, when taken together, have a significant impact.

### Model 8: Full Model (Dis-aggregated)

**Model 8a:** With demographic controls **Model 8b:** Without demographic controls

```{r model8_plots, fig.cap="Model Coefficients"}
tidy(models$model8a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 8a: Full Model (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model8b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 8b: Full Model (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model8_summary, results='asis'}
model8a_summary <- read_csv(here("output", "tables", "model8a_summary.csv"))
model8b_summary <- read_csv(here("output", "tables", "model8b_summary.csv"))
kable(model8a_summary, caption = "Model8a Summary", booktabs = TRUE)
kable(model8b_summary, caption = "Model8b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** Model 8a (with controls) has an Adjusted R-squared of 0.1776571, while Model 8b (without controls) has an Adjusted R-squared of 0.0986982. The inclusion of demographic controls in Model 8a significantly increases the explanatory power, indicating their importance in the full dis-aggregated model. We see that the goodness of fit of the full model that is the model with contains both academic and non academic factors is significantly better than only academic factors or only the alternative predictors, emphasizing the importance of a holistic development.
-   **Coefficients:** In the full model, both `academic_performance` and the `alternative factors` especially the `house_environment` remain significant. This is the strongest evidence for our core hypothesis that factors "beyond marks" are important.

### Model 9: Full Model (Aggregated)

**Model 9a:** With demographic controls **Model 9b:** Without demographic controls

```{r model9_plots, fig.cap="Model Coefficients"}
tidy(models$model9a) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 9a: Full Aggregated Model (with controls)", x = "Coefficient Estimate", y = "Predictor")
tidy(models$model9b) %>% filter(term != "(Intercept)") %>% ggplot(aes(x = estimate, y = reorder(term, estimate))) + geom_point(size = 4) + geom_errorbarh(aes(xmin = estimate - 1.96 * std.error, xmax = estimate + 1.96 * std.error), height = 0.2) + geom_vline(xintercept = 0, linetype = "dashed") + labs(title = "Model 9b: Full Aggregated Model (no controls)", x = "Coefficient Estimate", y = "Predictor")
```

```{r model9_summary, results='asis'}
kable(read_csv(here("output", "tables", "model9a_summary.csv")), caption = "Model9a Summary", booktabs = TRUE)
kable(read_csv(here("output", "tables", "model9b_summary.csv")), caption = "Model9b Summary", booktabs = TRUE)
```

**Interpretation:**

-   **Overall Model Fit:** Both models are statistically significant (p \< 0.001).
-   **Explanatory Power:** Model 9a (with controls) has an Adjusted R-squared of 0.1736704, while Model 9b (without controls) has an Adjusted R-squared of 9.011520e-02. The inclusion of demographic controls in Model 9a significantly increases the explanatory power, providing robust support for our central argument. We can see the that although the full model perform way better than individual models, the aggregated model has a better fit.
-   **Coefficients:** The aggregated `alternative_factors` variable remains a significant predictor even when controlling for `academic_performance`. This provides robust support for our central argument.

### Models of Best Fit

After performing permutations and combinations, a model than includes the `academic performance` and `house environment` and controlling for `demographic factors` performs best.

```{r best_model, results='asis'}

# import best model
best_model <- read_csv(here("output", "tables", "best_model_summary.csv"))
  
# print
kable(best_model, caption = "Best Model Summary", booktabs = TRUE)

```

### Summary of Regression Models

Here is a summary table of all our models for easy comparison.

```{r regression_results, results='asis'}
library(here)

model_summaries <- read_csv(here("output", "tables", "regression_models_summary.csv"))

# Now display it
kable(model_summaries, 
      caption = "Regression Models of Responsible Social Contribution",
      booktabs = TRUE)
```

# Findings

The findings of this study have important implications for educational policy. Our results suggest that an exclusive focus on academic metrics may be misguided. While academic skills are undoubtedly important, our findings indicate that a broader set of factors, including their relationship with their school and their home environment, are also critical for fostering responsible and engaged citizens.

# Conclusion

This study provides compelling evidence that factors "beyond marks" are important predictors of an individual's responsible social contribution. Our findings challenge the narrow focus on academic achievement that is prevalent in many educational systems and suggest that a more holistic approach to education is needed. By investing in programs and policies that improve student's social integration in the school and home environments of students, we can help to foster a new generation of responsible and engaged citizens.

# Policy Prescription

Based on the findings of this study, we offer the following evidence-based policy prescriptions:

1.  **Promote a Holistic Approach to Education:** **Empirical Justification:** Model 8 demonstrates that both `academic_performance` and `alternative_factors` are statistically significant predictors of responsible social contribution, even when controlling for each other. The model's Adjusted R-squared (0.1776571) is an improvement over Model 1 (0.1628199) and Model 6 (0.1463064), indicating that a model including both is superior. **Recommendation:** This provides strong empirical support for broadening educational policies to officially recognize, measure, and reward a wider range of student attributes beyond academic performance, such as social-emotional learning and civic engagement.

2.  **Invest in Teacher Training and Support:** **Empirical Justification:** The `alternative_factors` composite, which includes student-teacher relationships, is a good predictor in Models 2, 3 and 6. While the individual component `relation_with_school` is not significant in the full model, its contribution to the significant composite variable suggests its importance. **Recommendation:** Policies should focus on providing teachers with the training and support they need to create a positive and supportive learning environment for all students.

3.  **Strengthen School-Family Partnerships:** **Empirical Justification:** The `house_environment` variable is a key component of the `alternative_factors` composite, which was a strong and significant predictor in Models 6 and 8. **Recommendation:** This provides a clear empirical basis for policies that aim to strengthen the partnership between schools and families, such as programs that encourage parental involvement in education and provide parenting support.

4.  **Focus less on School Type and more on School Integration:** **Empirical Justification:** Model 4 and Model 8 provides the most direct evidence for this recommendation. The `school_type` variable is not statistically significant predictor of responsible social contribution in the individual model (Model 4) and even when if does predict in the combined model (Model 8) it has negative relation. **Recommendation:** This finding strongly suggests that the type of school a child attends has less lasting impact on their social contribution. This de-justifies the argument of school type as opposed to the social integration of the student.

5.  **Promote Gender Equity in Education:** **Empirical Justification:** Across all four regression models, the coefficient for being female (`gender_fFemale`) is positive and highly significant (p \< 0.01). This is one of the most robust findings in the analysis. **Recommendation:** This empirical result highlights the need for policies that not only ensure access to education for girls but also investigate and cultivate the factors that lead to their higher measured social contribution.

# Bibliography

-   Desai, S., & Kulkarni, V. (2008). Changing educational inequalities in India in the context of affirmative action. *Demography*, *45*(2), 245-270.
-   Dreze, J., & Kingdon, G. G. (2001). School participation in rural India. *Review of Development Economics*, *5*(1), 1-24.
-   Kingdon, G. G. (2007). The progress of school education in India. *Oxford Review of Economic Policy*, *23*(2), 168-195.
-   National Council of Applied Economic Research (NCAER) & University of Maryland. (2015). *India Human Development Survey-II (IHDS-II), 2011-12*. Inter-university Consortium for Political and Social Research [distributor], 2015-07-31. <https://doi.org/10.3886/ICPSR36151.v1>
-   Zimmerman, D. J. (1992). Regression with a restricted dependent variable. *International Economic Review*, 33(3), 529-548.
